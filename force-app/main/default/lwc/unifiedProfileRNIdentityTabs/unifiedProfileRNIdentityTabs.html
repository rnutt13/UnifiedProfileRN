<template>
    <article class="slds-card slds-var-p-around_medium" style={cardStyle}>
        <!-- Header with unified profile info -->
        <div class="slds-grid slds-gutters slds-var-p-bottom_medium">
            <div class="slds-col">
                <h2 class="slds-text-heading_medium" style={textStyle}>{unifiedProfileTitle}</h2>
                <p class="slds-text-body_small slds-text-color_weak" style={textStyle}>{unifiedProfileDescription}</p>
            </div>
        </div>
        
        <!-- Tab navigation -->
        <div class="slds-tabs_default">
            <ul class="slds-tabs_default__nav" role="tablist">
                <template for:each={tabs} for:item="tab" for:index="index">
                    <li key={tab.id} class="slds-tabs_default__item" role="presentation">
                        <a class={tab.tabClass}
                           role="tab" 
                           data-id={tab.id}
                           onclick={handleTabClick}>
                            <lightning-icon if:true={tab.icon} icon-name={tab.icon} size="x-small" class="slds-var-m-right_x-small"></lightning-icon>
                            {tab.label} ({tab.count})
                        </a>
                    </li>
                </template>
            </ul>
            
            <!-- Tab content -->
            <div class="slds-tabs_default__content">
                <template for:each={tabs} for:item="tab" for:index="index">
                    <div key={tab.id} if:true={tab.isActive} class="slds-tabs_default__panel">
                        <div class="slds-grid slds-gutters slds-var-p-around_small">
                            <div class="slds-col">
                                <div class="slds-text-body_small slds-text-color_weak" style={textStyle}>
                                    {tab.description}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Data table -->
                        <lightning-datatable 
                            data={tab.data}
                            columns={tab.columns}
                            key-field="id"
                            hide-checkbox-column
                            class="identity-table">
                        </lightning-datatable>
                        
                        <!-- View All link -->
                        <div class="slds-grid slds-gutters slds-var-p-top_small">
                            <div class="slds-col slds-grid_align-center">
                                <a href="#" class="slds-text-link" style={textStyle}>{viewAllText}</a>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </article>
</template> 