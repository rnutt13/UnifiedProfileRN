<template>
    <article class={cardThemeClass}>
        <!-- Header Section -->
        <div class={headerThemeClass}>
            <div class="slds-grid slds-grid_align-center slds-gutters">
                <div class="slds-col slds-size_1-of-12 slds-medium-size_1-of-12">
                    <lightning-icon 
                        icon-name="utility:chart" 
                        size="medium" 
                        variant="inverse"
                        class="header-icon">
                    </lightning-icon>
                </div>
                <div class="slds-col slds-size_10-of-12 slds-medium-size_10-of-12">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title header-title">
                                <span>{headerTitle}</span>
                            </h2>
                            <p class="header-subtitle">Portfolio Performance Overview</p>
                        </div>
                    </header>
                </div>
                <div class="slds-col slds-size_1-of-12 slds-medium-size_1-of-12">
                    <lightning-icon 
                        icon-name="utility:trending_up" 
                        size="medium" 
                        variant="inverse"
                        class="header-icon">
                    </lightning-icon>
                </div>
            </div>
        </div>

        <!-- Body Section with Metrics -->
        <div class={bodyThemeClass}>
            <div class="slds-grid slds-gutters slds-var-p-around_medium">
                <!-- Metric 1: Customer Value -->
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                    <div class="metric-card">
                        <div class="metric-icon-container">
                            <lightning-icon 
                                icon-name="utility:currency" 
                                size="large" 
                                class="metric-icon">
                            </lightning-icon>
                        </div>
                        <div class="metric-content">
                            <div class="metric-title">{title1}</div>
                            <div class="metric-value">{Subtitle1}</div>
                            <div class="metric-trend positive">
                                <lightning-icon 
                                    icon-name="utility:trending_up" 
                                    size="x-small" 
                                    class="trend-icon">
                                </lightning-icon>
                                <span>+12.5%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metric 2: Repayments Made -->
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                    <div class="metric-card">
                        <div class="metric-icon-container">
                            <lightning-icon 
                                icon-name="utility:check" 
                                size="large" 
                                class="metric-icon">
                            </lightning-icon>
                        </div>
                        <div class="metric-content">
                            <div class="metric-title">{title2}</div>
                            <div class="metric-value">{Subtitle2}</div>
                            <div class="metric-trend positive">
                                <lightning-icon 
                                    icon-name="utility:trending_up" 
                                    size="x-small" 
                                    class="trend-icon">
                                </lightning-icon>
                                <span>+8.3%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metric 3: Engagements -->
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                    <div class="metric-card">
                        <div class="metric-icon-container">
                            <lightning-icon 
                                icon-name="utility:user" 
                                size="large" 
                                class="metric-icon">
                            </lightning-icon>
                        </div>
                        <div class="metric-content">
                            <div class="metric-title">{title3}</div>
                            <div class="metric-value">{Subtitle3}</div>
                            <div class="metric-trend positive">
                                <lightning-icon 
                                    icon-name="utility:trending_up" 
                                    size="x-small" 
                                    class="trend-icon">
                                </lightning-icon>
                                <span>+15.2%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Bar Section -->
            <div class="slds-var-p-around_medium">
                <div class="slds-grid slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                        <div class="progress-section">
                            <div class="slds-grid slds-grid_align-spread slds-var-p-bottom_x-small">
                                <div class="slds-col">
                                    <span class="progress-label">Portfolio Growth</span>
                                </div>
                                <div class="slds-col">
                                    <span class="progress-value">78%</span>
                                </div>
                            </div>
                            <lightning-progress-bar 
                                value="78" 
                                size="medium" 
                                variant="base"
                                class="custom-progress-bar">
                            </lightning-progress-bar>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</template>